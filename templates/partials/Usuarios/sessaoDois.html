{% extends 'base.html' %}
{% load static %}
{% block title %}Minhas vagas{% endblock %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/formempresa.css' %}">
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
<link rel="stylesheet" href="https://jqueryvalidation.org/files/demo/site-demos.css">
<script src="{% static 'js/botaoAdcExcluir.js' %}"defer></script>
<script src="{% static 'js/maskmoney.js' %}" defer></script>
<script src="{% static 'js/dataNasc.js' %}" defer></script>
<script src="{% static 'js/form.js' %}" defer></script>
<script src="{% static 'js/cep.js' %}" defer></script>
{% endblock %}
{% block content %}
<h1 class="display-6 text-center p-4 titulo">Cadastro - <strong>Banco de Talentos</strong></h1>
<main>
    <div class="w-75 m-auto sDois" >
        {% if not dados %}
        <form action="{% url 'Dados_Pessoais' %}" class="g-3 needs-validation position-relative" method="POST" id="formCand" enctype="multipart/form-data" novalidate>
        {% else %}
        {% for dado in dados %}
        <form action="{% url 'editando_Dados_Pessoais' dado.id %}" class="g-3 needs-validation position-relative" method="POST" enctype="multipart/form-data" id="formCand" novalidate>
        {% endfor %}
        {% endif %}
            {% csrf_token %}
            <section class="step py-5 mb-3" id="step_6">
                <h2> Dados Pessoais</h2>
                <div class="col-md-12 py-2">
                    <label for="imgperfil" class="form-label">Imagem de perfil</label>
                    <input id="imgperfil" name="imagem_perfil" type="file" class="form-control" aria-label="imgperfil" accept="image/*" required>
                    <div class="valid-feedback">
                        Tudo ok!
                    </div>
                    <div class="invalid-feedback">
                        Campo obrigatorio
                    </div>
                </div>
                <div class="row py-2">
                    <div class="col-md-8">
                        <label for="nome" class="form-label">Nome Completo</label>
                        <input type="text" maxlength="50" class="form-control" id="nome" name="nome_do_candidato" required>
                        <div class="valid-feedback">
                            Tudo ok!
                        </div>
                        <div class="invalid-feedback">
                            Campo Inválido
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="cpf" class="form-label">CPF</label>
                        <input onBlur="javascript: validaCPF(this.value);" onkeydown="javascript: fMasc( this, mCPF );" name="cpf_do_candidato" type="text" class="form-control" id="cpf" inputmode="text" minlength="11" maxlength="11" pattern="([0-9]{2}[\.]?[0-9]{3}[\.]?[0-9]{3}[\/]?[0-9]{4}[-]?[0-9]{2})|([0-9]{3}[\.]?[0-9]{3}[\.]?[0-9]{3}[-]?[0-9]{2})" required>
                        <div class="valid-feedback" id="naoOk">
                            Tudo ok!
                        </div>
                        <div class="invalid-feedback">
                            Campo obrigatorio
                        </div>
                        <div class="cpfInvalido d-lg-none text-danger" id="cpfInvalido">
                            CPF Invalido
                        </div>
                    </div>
                </div>
                <div class="row py-2">
                    <div class="col-md-4">
                        <label for="data">Data de nascimento</label>
                        <input onBlur="javascript: validaDataNascimento(this.value)"; type="date" class="form-control" id="data" name="data_nascimento" required>
                        <div class="valid-feedback" id="taOkD">
                            Tudo ok!
                        </div>
                        <div class="invalid-feedback">
                            Campo obrigatorio
                        </div>
                        <div class="d-lg-none text-danger" id="dataInvalida">
                            Data Invalida
                        </div>
                    </div>
                    <div class="col-md-8">
                        <label for="genero">Genêro</label>
                        <select class="form-control" id="genero" name="genero_candidato" required>
                            <option selected disabled value="">Escolha</option>
                            <option value="Masculino">Masculino</option>
                            <option value="Masculino">Feminino</option>
                            <option value="Masculino">Outro</option>
                        </select>
                        <div class="valid-feedback">
                            Tudo ok!
                        </div>
                        <div class="invalid-feedback">
                            Campo obrigatorio
                        </div>
                    </div>
                </div>
                <div class="row py-2">
                    <div class="col-md-4">
                        <label for="cep" class="form-label">Cep</label>
                        <input type="number" name="cep" class="form-control" v-model="endereco.cep" @change="cepAlteradoEvento" id="cep" size="10" maxlength="9"required>
                        <div class="invalid-feedback">Por favor, informe um cep valido.</div>
                    </div>
                    <div class="col-md-4">
                        <label for="estado" class="form-label">Estado</label>
                        <select name="estado" class="form-select" id="uf"required>
                            <option selected disabled value="">Escolha</option>
                            {% for estado in estados %}
                            <option value="{{estado}}">{{estado}}</option>
                            {% endfor %}
                        </select>
                        <div class="invalid-feedback">Por favor, escolha um estado valido</div>
                    </div>
                    <div class="col-md-4">
                        <label for="cidade" class="form-label">Cidade</label>
                        <select name="cidade" class="form-select" id="uf"required>
                            <option selected disabled value="">Escolha</option>
                            {% for cidade in cidades %}
                            <option value="{{cidade}}">{{cidade}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="row py-2">
                    <div class="col-md-8">
                        <label for="telefone" class="form-label">Telefone</label>
                        <input type="number" class="form-control" id="telefone" name="telefone" placeholder="(XX)XXXX-XXXXX" min="10000000000" max="99999999999"  required>
                        <div class="invalid-feedback">Informe um telefone valido.</div>
                    </div>
                </div>
                <div class="form-floating">
                    <textarea name="sobre_candidato" class="form-control" placeholder="comente" id="floatingTextarea" maxlength="300"  style="height: 100px"></textarea>
                    <label for="floatingTextarea">Fale um pouco sobre você.</label>
                </div>
                <div class="form-floating">
                    <button type="submit" class="btn btn-primary m-2 col corBotao" id="submit"><i class="bi bi-save"></i> Salvar</button>
                </div>
            </section>
            <a href="{% url 'Dados_Pessoais' %}" class="botaoenviarformempresa enviarformcand w-25 position-absolute bottom-0 end-0" id="submit">Proximo</a>
            <a href="{% url 'cadastro_candidato_2' %}" class="botaoenviarformempresa enviarformcand w-25 position-absolute bottom-0 start-0" id="submit">Anterior</a> <!--Link-->
        </form>
    </div>
</main>
{% endblock %}
