{% extends 'base.html' %}
{% load static %}
{% block title %}Vagas lançadas{% endblock %}
{% block head %}
  <script src="{% static 'js/tabber.js' %}" defer></script>
  <link rel="stylesheet" href="{% static 'css/tabber.css' %}">
  <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock %}
{% block body_class %}page-dashboard{% endblock %}
{% block content %}
  <main class="container">
    <div class="right-column">
      <section class="content">
        <header class="page-header">
          <h1>Vagas lançadas</h1>
          <!--<form action="" class="filtros">
            <select name="teste1" id="">
              <option value="a0" selected disabled>Empresa</option>
              <option value="a1">empresa1</option>
              <option value="a2">empresa2</option>
              <option value="a3">empresa3</option>
              <option value="a4">empresa4</option>
            </select>
            <select name="teste2" id="">
              <option value="a0" selected disabled>Vaga</option>
              <option value="a1">vaga1</option>
              <option value="a2">vaga2</option>
              <option value="a3">vaga3</option>
              <option value="a4">vaga4</option>
            </select>
            <select name="teste3" id="">
              <option value="a0" selected disabled>Nível de experiência</option>
              <option value="a1">experiência1</option>
              <option value="a2">experiência2</option>
              <option value="a3">experiência3</option>
              <option value="a4">experiência4</option>
            </select>
          </form>-->
        </header>
        <div class="tabber">
          <div class="tabber__tabs">
            <button type="button" class="tabber__tab active">Abertas</button>
            <button type="button" class="tabber__tab">Favoritadas</button>
            <button type="button" class="tabber__tab">Arquivadas</button>
          </div>
          <div class="tabber__content">
            <section id="abertas" class="active">
              <div class="row row-cols-1 row-cols-md-3 g-3 py-2 px-1">
                {% if vagas %}
                  {% for vaga in vagas %}
                    <div class="col">
                      <div class="card h-100 vaga">
                        <img src="{{ vaga.logo_empresa.url }}" class="card-img-top outline ar-2/1 mt-3" alt="">
                        <div class="card-body d-flex flex-column">
                          <h5 class="card-title">{{ vaga.nome_vaga }}</h5>
                          <ul class="hide-bullets">
                            <li>
                              <ul class="inline-list">
                                <li><i class="bi bi-building" title="Empresa"></i> {{ vaga.nome_empresa }}</li>
                                <li><i class="bi bi-geo-alt" title="Local"></i> {{ vaga.local_empresa }}</li>
                              </ul>
                            </li>
                            <li>
                              <ul class="inline-list">
                                <li><i class="bi bi-file-earmark-text" title="Tipo de contrato"></i> {{ vaga.tipo_contratacao }}</li>
                                <li><i class="bi bi-person-workspace" title="Tipo de trabalho"></i> {{ vaga.tipo_trabalho }} </li>
                              </ul>
                            </li>
                          </ul>
                          <button type="button" class="btn btn-primary align-self-start mt-auto" data-bs-toggle="modal" data-bs-target="[data-modal-id='{{ vaga.nome_vaga }} @ {{ vaga.nome_empresa }}']">
                            Detalhes
                          </button>
                        </div>
                        {% include 'partials/modal-vaga.html' %}
                      </div>
                    </div>
                  {% endfor %}
                {% endif %}
              </div>
            </section>
            <section id="favoritadas"></section>
            <section id="arquivadas"></section>
          </div>
        </div>
        {% comment %} {% include 'partials/lista-antiga--.html' %} {% endcomment %}
      </section>
    </div>
    <div class="left-column">
      <div class="sidebar">
        <div class="sidebar-user mb-3">
          <img class="sidebar-avatar mb-1" src="{% static 'img/placeholder.svg' %}" alt="">
          <h2 class="sidebar-name h5 text-center">Lorem, ipsum dolor</h2>
        </div>
        <div class="sidebar-content">
          <ul class="sidebar-menu">
            <li><a class="btn btn-primary" href="#" role="button">Perfil</a></li>
            <li><a class="btn btn-primary" href="#" role="button">Vagas</a></li>
            <li><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#cadastro-de-vaga">Cadastrar vaga</button></li>
            <li><a class="btn btn-primary" href="#" role="button">Banco de Talentos</a></li>
            <li><a class="btn btn-primary" href="#" role="button">Candidatos Favoritados</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="modal fade" id="cadastro-de-vaga" tabindex="-1" aria-labelledby="cadastro-de-vaga-label" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="cadastro-de-vaga-label">Cadastrar vaga</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body p-4">
            <form action="" method="post" enctype="multipart/form-data">
              <div class="row g-3 align-items-center mb-2">
                <div class="col">
                </div>
                <div class="col">
                </div>
              </div>
              <div class="row g-3 align-items-center mb-2">
                <div class="col">
                  <label class="form-label">Nome da Vaga</label>
                  <input class="form-control" type="text" name="nomevaga">
                </div>
                <div class="col">
                  <label class="form-label" for="contratacao">Tipo de Contratacao</label>
                  <select class="form-select" name="contratacao">
                    <option value="" selected>Selecione</option>
                    <option value="" selected>Selecione</option>
                    <option value="" selected>Selecione</option>
                    <option value="" selected>Selecione</option>
                  </select>
                </div>
              </div>
              <div class="row g-3 align-items-center mb-2">
                <div class="col">
                  <label class="form-label" for="perfil">Perfil do Profissional</label>
                  <select class="form-select" name="perfil">
                    <option value="" selected>Selecione</option>
                    <option value="" selected>Selecione</option>
                    <option value="" selected>Selecione</option>
                    <option value="" selected>Selecione</option>
                    <option value="" selected>Selecione</option>
                  </select>
                </div>
                <div class="col">
                  <label class="form-label">Salário</label>
                  <input class="form-control" type="number" name="salario">
                </div>
              </div>
              <div class="mb-2">
                <label class="form-label">Descrição da Vaga</label>
                <textarea class="form-control" name="descricaovaga"></textarea>
              </div>
              <div class="row g-3 align-items-center mb-2">
                <div class="col">
                  <label class="form-label">Área de Atuação</label>
                  <input class="form-control" type="text" name="atuacao">
                </div>
                <div class="col">
                  <label class="form-label" for="tipotrabalho">Tipo de trabalho</label>
                  <select class="form-select" name="tipotrabalho">
                    <option value="remoto" selected>Remoto</option>
                    <option value="presencial" selected>Presencial</option>
                    <option value="hibrido" selected>Híbrido</option>
                  </select>
                </div>
              </div>
              <div class="mb-2">
                <label class="form-label">Principais Atividades</label>
                <input class="form-control" type="text" name="atividades">
              </div>
              <div class="mb-2">
                <label class="form-label">Requisitos</label>
                <textarea class="form-control" type="text" name="requisitos"></textarea>
              </div>
              <div class="mb-2">
                <label class="form-label">Diferencial</label>
                <input class="form-control" type="text" name="diferencial">
              </div>
              <div class="mb-2">
                <label class="form-label">Beneficios</label>
                <textarea class="form-control" name="beneficios"></textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Descartar</button>
            <button type="submit" name="submit" class="btn btn-primary">Salvar</button>
          </div>
        </div>
      </div>
    </div>
  </main>
{% endblock %}